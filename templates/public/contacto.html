{% extends "public/base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/contact.css') }}">
{% endblock %}

{% block content %}
{# Page Hero #}
<section class="page-hero">
    <div class="page-hero-content">
        <h1 class="page-hero-title">{{ page.title if page else 'Contacto' }}</h1>
        <p class="page-hero-subtitle">
            {{ page.content_html|striptags if page and page.content_html else 'Hablemos de c√≥mo multiplicar tus ventas. Primera consulta sin compromiso.' }}
        </p>
    </div>
</section>

{# Contact Cards #}
<section class="contact-section">
    <div class="container">
        <div class="contact-cards-grid">
            <div class="contact-card" data-reveal>
                <div class="contact-card-icon">
                    <svg width="28" height="28" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                    </svg>
                </div>
                <h3>Email</h3>
                <p class="contact-main">{{ settings.contact_email or 'luisromeranavarro@gmail.com' }}</p>
                <p class="contact-detail">Respuesta en menos de 24h</p>
                <a href="mailto:{{ settings.contact_email or 'luisromeranavarro@gmail.com' }}" class="btn btn-secondary">
                    Enviar email
                </a>
            </div>

            <div class="contact-card" data-reveal data-delay="100">
                <div class="contact-card-icon">
                    <svg width="28" height="28" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                    </svg>
                </div>
                <h3>Tel√©fono</h3>
                <p class="contact-main">{{ settings.phone or '+34 609 430 403' }}</p>
                <p class="contact-detail">{{ settings.schedule or 'Lun-Vie: 9:00 - 18:00' }}</p>
                <a href="tel:{{ settings.phone or '+34609430403' }}" class="btn btn-secondary">
                    Llamar ahora
                </a>
            </div>

            <div class="contact-card" data-reveal data-delay="200">
                <div class="contact-card-icon">
                    <svg width="28" height="28" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                        <path d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                    </svg>
                </div>
                <h3>Ubicaci√≥n</h3>
                <p class="contact-main">{{ settings.address or 'Madrid, Espa√±a' }}</p>
                <p class="contact-detail">Sesiones presenciales y online</p>
            </div>
        </div>
    </div>
</section>

{# Process Timeline #}
<section class="process-section">
    <div class="container">
        <div class="section-header" data-reveal>
            <span class="section-badge">Proceso simple</span>
            <h2 class="section-title">C√≥mo trabajamos juntos</h2>
        </div>
        <div class="process-timeline">
            <div class="process-card" data-reveal data-delay="100">
                <div class="process-number">1</div>
                <h3>Diagn√≥stico Inicial Gratuito</h3>
                <p>Conversaci√≥n sin compromiso para entender tu situaci√≥n actual, desaf√≠os y objetivos comerciales.</p>
                <div class="process-metric">
                    <span class="metric-value">30-45</span>
                    <span class="metric-label">minutos</span>
                </div>
            </div>

            <div class="process-card" data-reveal data-delay="200">
                <div class="process-number">2</div>
                <h3>Propuesta Personalizada</h3>
                <p>Dise√±o una hoja de ruta espec√≠fica para tu equipo, con metodolog√≠a, plazos y resultados esperados.</p>
                <div class="process-metric">
                    <span class="metric-value">2-3</span>
                    <span class="metric-label">d√≠as h√°biles</span>
                </div>
            </div>

            <div class="process-card" data-reveal data-delay="300">
                <div class="process-number">3</div>
                <h3>Implementaci√≥n y Seguimiento</h3>
                <p>Trabajo contigo y tu equipo con sesiones regulares, materiales pr√°cticos y ajustes en tiempo real.</p>
                <div class="process-metric">
                    <span class="metric-value">3-6</span>
                    <span class="metric-label">meses t√≠picos</span>
                </div>
            </div>

            <div class="process-card" data-reveal data-delay="400">
                <div class="process-number">4</div>
                <h3>Resultados Medibles</h3>
                <p>Evaluaci√≥n de KPIs, consolidaci√≥n de cambios y transferencia de conocimiento para autonom√≠a futura.</p>
                <div class="process-metric">
                    <span class="metric-value counter" data-target="40">0</span>%
                    <span class="metric-label">‚Üë ventas promedio</span>
                </div>
            </div>
        </div>
    </div>
</section>

{# Contact Form #}
<section class="form-section">
    <div class="container">
        <div class="form-container">
            {# Sidebar con beneficios #}
            <div class="form-sidebar" data-reveal>
                <h2>¬øPor qu√© contactarme?</h2>
                
                <div class="benefit-item">
                    <div class="benefit-icon">‚úì</div>
                    <div class="benefit-content">
                        <h4>Primera consulta gratuita</h4>
                        <p>Sin compromiso. Analizamos tu situaci√≥n y te doy recomendaciones iniciales.</p>
                    </div>
                </div>

                <div class="benefit-item">
                    <div class="benefit-icon">‚úì</div>
                    <div class="benefit-content">
                        <h4>Respuesta en 24h</h4>
                        <p>Me comprometo a responderte en menos de un d√≠a h√°bil.</p>
                    </div>
                </div>

                <div class="benefit-item">
                    <div class="benefit-icon">‚úì</div>
                    <div class="benefit-content">
                        <h4>Metodolog√≠a probada</h4>
                        <p class="roi-text">
                            Resultados respaldados: 
                            <span class="counter-inline counter" data-target="700">0</span>% ROI promedio 
                            seg√∫n estudio PWC-ICF
                        </p>
                    </div>
                </div>

                <div class="benefit-item">
                    <div class="benefit-icon">‚úì</div>
                    <div class="benefit-content">
                        <h4>100% personalizado</h4>
                        <p>Cada empresa es √∫nica. Soluciones dise√±adas espec√≠ficamente para tu situaci√≥n.</p>
                    </div>
                </div>
            </div>

            {# Formulario principal con CSRF #}
            <div class="form-main" data-reveal data-delay="100">
                <h2>Solicita tu diagn√≥stico gratuito</h2>
                <p class="form-subtitle">Cu√©ntame sobre tu equipo y tus objetivos comerciales</p>

                <form method="POST" action="{{ url_for('contacto') }}" class="contact-form">
                    {{ form.hidden_tag() }}
                    
                    <div class="form-row">
                        <div class="form-group">
                            {{ form.name.label }}
                            {{ form.name(class="form-control", placeholder="Tu nombre completo", required=true) }}
                            {% if form.name.errors %}
                            <span class="error" style="color: var(--danger-color); font-size: 0.875rem;">
                                {{ form.name.errors[0] }}
                            </span>
                            {% endif %}
                        </div>

                        <div class="form-group">
                            {{ form.email.label }}
                            {{ form.email(class="form-control", placeholder="tu@empresa.com", required=true) }}
                            {% if form.email.errors %}
                            <span class="error" style="color: var(--danger-color); font-size: 0.875rem;">
                                {{ form.email.errors[0] }}
                            </span>
                            {% endif %}
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="company">Empresa (opcional)</label>
                        <input type="text" id="company" name="company" class="form-control" placeholder="Nombre de tu empresa">
                    </div>

                    <div class="form-group">
                        <label for="team_size">Tama√±o del equipo comercial (opcional)</label>
                        <select id="team_size" name="team_size" class="form-control">
                            <option value="">Selecciona...</option>
                            <option value="1-5">1-5 personas</option>
                            <option value="6-15">6-15 personas</option>
                            <option value="16-30">16-30 personas</option>
                            <option value="30+">M√°s de 30 personas</option>
                        </select>
                    </div>

                    <div class="form-group">
                        {{ form.message.label }}
                        {{ form.message(class="form-control", rows=5, placeholder="Cu√©ntame: ¬øCu√°l es tu principal desaf√≠o comercial? ¬øQu√© te gustar√≠a conseguir?", required=true) }}
                        {% if form.message.errors %}
                        <span class="error" style="color: var(--danger-color); font-size: 0.875rem;">
                            {{ form.message.errors[0] }}
                        </span>
                        {% endif %}
                    </div>

                    <div class="form-checkbox">
                        <input type="checkbox" id="privacy" name="privacy" required>
                        <label for="privacy">
                            He le√≠do y acepto la <a href="{{ url_for('aviso_legal') }}" target="_blank">Pol√≠tica de Privacidad</a>
                        </label>
                    </div>

                    <button type="submit" class="btn btn-primary btn-large">Enviar solicitud</button>

                    <p class="form-note">
                        üîí Tus datos est√°n protegidos. Solo los uso para responderte.
                    </p>
                </form>
            </div>
        </div>
    </div>
</section>

{# FAQ #}
<section class="faq-section">
    <div class="container">
        <div class="section-header" data-reveal>
            <span class="section-badge">Preguntas frecuentes</span>
            <h2 class="section-title">¬øTienes dudas?</h2>
        </div>
        <div class="faq-grid">
            <div class="faq-card" data-reveal>
                <h3>¬øCu√°nto tiempo necesito para ver resultados?</h3>
                <p>Las mejoras iniciales son visibles en 1-3 meses. Los resultados m√°s significativos se consolidan entre 3-6 meses. Creo cambios que perduran porque trabajo la mentalidad, no solo las t√©cnicas.</p>
            </div>

            <div class="faq-card" data-reveal data-delay="100">
                <h3>¬øTrabajas con pymes o solo con grandes empresas?</h3>
                <p>Me especializo en pymes y empresas medianas. Entiendo vuestros retos espec√≠ficos: recursos limitados, necesidad de ROI claro y equipos multifuncionales.</p>
            </div>

            <div class="faq-card" data-reveal data-delay="200">
                <h3>¬øPuedes trabajar a distancia o solo presencial?</h3>
                <p>Ofrezco ambas modalidades. Las sesiones virtuales est√°n dise√±adas para ser igualmente efectivas. Adapto la metodolog√≠a a vuestras preferencias operativas.</p>
            </div>

            <div class="faq-card" data-reveal data-delay="300">
                <h3>¬øQu√© incluye tu metodolog√≠a?</h3>
                <p>Combino consultor√≠a estrat√©gica, formaci√≥n pr√°ctica y coaching ejecutivo. Incluye diagn√≥stico inicial, plan personalizado, implementaci√≥n con seguimiento y transferencia de conocimiento.</p>
            </div>
        </div>
    </div>
</section>

{# Alternative Contact CTA #}
<section class="alternative-contact cta">
    <div class="container">
        <div class="cta-content" data-reveal>
            <h2 class="cta-title">¬øPrefieres hablar directamente?</h2>
            <p class="cta-description">
                A veces es m√°s f√°cil hablar por tel√©fono. Ll√°mame y conversamos sin compromiso.
            </p>
            <div class="cta-buttons">
                <a href="tel:{{ settings.phone or '+34609430403' }}" class="btn btn-accent btn-large">
                    Llamar ahora: {{ settings.phone or '+34 609 430 403' }}
                </a>
            </div>
            <p class="cta-note">Horario: {{ settings.schedule or 'Lunes a Viernes, 9:00 - 18:00' }}</p>
        </div>
    </div>
</section>
{% endblock %}